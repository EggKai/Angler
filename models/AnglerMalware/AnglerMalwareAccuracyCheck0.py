import pandas as pd

def count_ratio_of_zeros(csv_file):
    """
    Reads a CSV with columns [SHA256, predicted_malware],
    and calculates the ratio of rows where predicted_malware = 0.

    Args:
        csv_file: Path to the CSV file.

    Outputs:
        Prints the ratio of rows with predicted_malware = 0.
    """
    # Load the CSV
    df = pd.read_csv(csv_file, dtype=str)

    # Convert predicted_malware column to integers
    df["predicted_malware"] = df["predicted_malware"].astype(int)

    # Count rows where predicted_malware = 0
    num_zeros = (df["predicted_malware"] == 0).sum()
    total_rows = len(df)

    # Calculate ratio
    ratio = num_zeros / total_rows if total_rows > 0 else 0

    # Print results
    print(f"Accuracy: {ratio:.4f}")

if __name__ == "__main__":
    # Example usage
    csv_file = "predictions_3.csv"  # Input CSV with SHA256, predicted_malware
    count_ratio_of_zeros(csv_file)
